from telethon import TelegramClient, events
import random, os
SESSION = 'session'
API_ID = int(os.getenv("API_ID"))
API_HASH = os.getenv("API_HASH")
BOT_TOKEN = os.getenv("BOT_TOKEN")
bot = TelegramClient('bot', API_ID, API_HASH).start(bot_token=BOT_TOKEN)
CHANNEL = 'theholyqouran'
suras = {
    ('ุณูุฑุฉ ุงููุงุชุญุฉ',): '1',
    ('ุณูุฑุฉ ุงูุจูุฑุฉ',): '2',
    ('ุณูุฑุฉ ุขู ุนูุฑุงู', 'ุณูุฑุฉ ุงู ุนูุฑุงู'): '3',
    ('ุณูุฑุฉ ุงููุณุงุก',): '4',
    ('ุณูุฑุฉ ุงููุงุฆุฏู', 'ุณูุฑุฉ ุงููุงุฆุฏุฉ'): '5',
    ('ุณูุฑุฉ ุงูุฃูุนุงู', 'ุณูุฑุฉ ุงูุงูุนุงู'): '6',
    ('ุณูุฑุฉ ุงูุฃุนุฑุงู', 'ุณูุฑุฉ ุงูุงุนุฑุงู'): '7',
    ('ุณูุฑุฉ ุงูุฃููุงู', 'ุณูุฑุฉ ุงูุงููุงู'): '8',
    ('ุณูุฑุฉ ุงูุชูุจุฉ',): '9',
    ('ุณูุฑุฉ ูููุณ',): '10',
    ('ุณูุฑุฉ ููุฏ',): '11',
    ('ุณูุฑุฉ ููุณู',): '12',
    ('ุณูุฑุฉ ุงูุฑุนุฏ',): '13',
    ('ุณูุฑุฉ ุงุจุฑุงููู', 'ุณูุฑุฉ ุฅุจุฑุงููู'): '14',
    ('ุณูุฑุฉ ุงูุญุฌุฑ',): '15',
    ('ุณูุฑุฉ ุงููุญู',): '16',
    ('ุณูุฑุฉ ุงูุงุณุฑุงุก', 'ุณูุฑุฉ ุงูุฅุณุฑุงุก'): '17',
    ('ุณูุฑุฉ ุงูููู',): '18',
    ('ุณูุฑุฉ ูุฑูู',): '19',
    ('ุณูุฑุฉ ุทู',): '20',
    ('ุณูุฑุฉ ุงูุงูุจูุงุก', 'ุณูุฑุฉ ุงูุฃูุจูุงุก'): '21',
    ('ุณูุฑุฉ ุงูุญุฌ',): '22',
    ('ุณูุฑุฉ ุงููุคูููู', 'ุณูุฑุฉ ุงููููููู'): '23',
    ('ุณูุฑุฉ ุงููุฑูุงู',): '24',
    ('ุณูุฑุฉ ุงูููุฑ',): '25',
    ('ุณูุฑุฉ ุงูุดุนุฑุงุก',): '26',
    ('ุณูุฑุฉ ุงูุนููุจูุช',): '27',
    ('ุณูุฑุฉ ุงููุตุต',): '28',
    ('ุณูุฑุฉ ุงูููู',): '29',
    ('ุณูุฑุฉ ุงูุฑูู',): '30',
    ('ุณูุฑุฉ ูููุงู',): '31',
    ('ุณูุฑุฉ ุงูุณุฌุฏุฉ',): '32',
    ('ุณูุฑุฉ ุงูุฃุญุฒุงุจ', 'ุณูุฑุฉ ุงูุงุญุฒุงุจ'): '33',
    ('ุณูุฑุฉ ุณุจุฃ', 'ุณูุฑุฉ ุณุจุง'): '34',
    ('ุณูุฑุฉ ูุงุทุฑ',): '35',
    ('ุณูุฑุฉ ูุณ',): '36',
    ('ุณูุฑุฉ ุงูุตุงูุงุช',): '37',
    ('ุณูุฑุฉ ุต',): '38',
    ('ุณูุฑุฉ ุงูุฒูุฑ',): '39',
    ('ุณูุฑุฉ ุบุงูุฑ',): '40',
    ('ุณูุฑุฉ ูุตูุช',): '41',
    ('ุณูุฑุฉ ุงูุดูุฑู',): '42',
    ('ุณูุฑุฉ ุงูุฒุฎุฑู',): '43',
    ('ุณูุฑุฉ ุงูุฏุฎุงู',): '44',
    ('ุณูุฑุฉ ุงูุฌุงุซูุฉ',): '45',
    ('ุณูุฑุฉ ุงูุงุญูุงู', 'ุณูุฑุฉ ุงูุฃุญูุงู'): '46',
    ('ุณูุฑุฉ ูุญูุฏ',): '47',
    ('ุณูุฑุฉ ุงููุชุญ',): '48',
    ('ุณูุฑุฉ ุงูุญุฌุฑุงุช',): '49',
    ('ุณูุฑุฉ ู',): '50',
    ('ุณูุฑุฉ ุงูุฐุงุฑูุงุช',): '51',
    ('ุณูุฑุฉ ุงูุทูุฑ',): '52',
    ('ุณูุฑุฉ ุงููุฌู',): '53',
    ('ุณูุฑุฉ ุงูููุฑ',): '54',
    ('ุณูุฑุฉ ุงูุฑุญูู',): '55',
    ('ุณูุฑุฉ ุงููุงูุนุฉ',): '56',
    ('ุณูุฑุฉ ุงูุญุฏูุฏ',): '57',
    ('ุณูุฑุฉ ุงููุฌุงุฏูุฉ',): '58',
    ('ุณูุฑุฉ ุงูุญุดุฑ',): '59',
    ('ุณูุฑุฉ ุงูููุชุญูุฉ',): '60',
    ('ุณูุฑุฉ ุงูุตู',): '61',
    ('ุณูุฑุฉ ุงูุฌูุนุฉ',): '62',
    ('ุณูุฑุฉ ุงูููุงูููู',): '63',
    ('ุณูุฑุฉ ุงูุชุบุงุจู',): '64',
    ('ุณูุฑุฉ ุงูุทูุงู',): '65',
    ('ุณูุฑุฉ ุงูุชุญุฑูู',): '66',
    ('ุณูุฑุฉ ุงูููู',): '67',
    ('ุณูุฑุฉ ุงูููู',): '68',
    ('ุณูุฑุฉ ุงูุญุงูุฉ',): '69',
    ('ุณูุฑุฉ ุงููุนุงุฑุฌ',): '70',
    ('ุณูุฑุฉ ููุญ',): '71',
    ('ุณูุฑุฉ ุงูุฌู',): '72',
    ('ุณูุฑุฉ ุงููุฒูู',): '73',
    ('ุณูุฑุฉ ุงููุฏุซุฑ',): '74',
    ('ุณูุฑุฉ ุงูููุงูุฉ',): '75',
    ('ุณูุฑุฉ ุงูุฅูุณุงู', 'ุณูุฑุฉ ุงูุงูุณุงู'): '76',
    ('ุณูุฑุฉ ุงููุฑุณูุงุช',): '77',
    ('ุณูุฑุฉ ุงููุจุง', 'ุณูุฑุฉ ุงููุจุฃ'): '78',
    ('ุณูุฑุฉ ุงููุงุฒุนุงุช',): '79',
    ('ุณูุฑุฉ ุนุจุณ',): '80',
    ('ุณูุฑุฉ ุงูุชูููุฑ',): '81',
    ('ุณูุฑุฉ ุงูุงููุทุงุฑ', 'ุณูุฑุฉ ุงูุฅููุทุงุฑ'): '82',
    ('ุณูุฑุฉ ุงููุทูููู',): '83',
    ('ุณูุฑุฉ ุงูุงูุดูุงู',): '84',
    ('ุณูุฑุฉ ุงูุจุฑูุฌ',): '85',
    ('ุณูุฑุฉ ุงูุทุงุฑู',): '86',
    ('ุณูุฑุฉ ุงูุงุนูู', 'ุณูุฑุฉ ุงูุฃุนูู'): '87',
    ('ุณูุฑุฉ ุงูุบุงุดูุฉ',): '88',
    ('ุณูุฑุฉ ุงููุฌุฑ',): '89',
    ('ุณูุฑุฉ ุงูุจูุฏ',): '90',
    ('ุณูุฑุฉ ุงูุดูุณ',): '91',
    ('ุณูุฑุฉ ุงูููู',): '92',
    ('ุณูุฑุฉ ุงูุถุญู',): '93',
    ('ุณูุฑุฉ ุงูุดุฑุญ',): '94',
    ('ุณูุฑุฉ ุงูุชูู',): '95',
    ('ุณูุฑุฉ ุงูุนูู',): '96',
    ('ุณูุฑุฉ ุงููุฏุฑ',): '97',
    ('ุณูุฑุฉ ุงูุจููุฉ',): '98',
    ('ุณูุฑุฉ ุงูุฒูุฒูุฉ',): '99',
    ('ุณูุฑุฉ ุงูุนุงุฏูุงุช',): '100',
    ('ุณูุฑุฉ ุงููุงุฑุนุฉ',): '101',
    ('ุณูุฑุฉ ุงูุชูุงุซุฑ',): '102',
    ('ุณูุฑุฉ ุงูุนุตุฑ',): '103',
    ('ุณูุฑุฉ ุงูููุฒุฉ',): '104',
    ('ุณูุฑุฉ ุงูููู',): '105',
    ('ุณูุฑุฉ ูุฑูุด',): '106',
    ('ุณูุฑุฉ ุงููุงุนูู',): '107',
    ('ุณูุฑุฉ ุงูููุซุฑ',): '108',
    ('ุณูุฑุฉ ุงููุงูุฑูู',): '109',
    ('ุณูุฑุฉ ุงููุตุฑ',): '110',
    ('ุณูุฑุฉ ุงููุณุฏ',): '111',
    ('ุณูุฑุฉ ุงูุงุฎูุงุต', 'ุณูุฑุฉ ุงูุฅุฎูุงุต'): '112',
    ('ุณูุฑุฉ ุงูููู',): '113',
    ('ุณูุฑุฉ ุงููุงุณ',): '114',
}
@bot.on(events.NewMessage)
async def handler(event):
    text = event.raw_text.strip()

    # ุญุงูุฉ ุงูุณูุฑุฉ ุงูุนุดูุงุฆูุฉ
    if text.lower() in ['ูุฑุขู', 'ูุฑุงู']:
        sura_number = random.randint(1, 114)
        try:
            message = await bot.get_messages('theholyqouran', ids=sura_number + 1)
            if message and message.media:
                await bot.send_file(
                    event.chat_id,
                    file=message.media,
                    caption=f"๐ ุณูุฑุฉ ุนุดูุงุฆูุฉ:\nุฑุงุจุท ุงูุณูุฑุฉ:\nhttps://t.me/theholyqouran/{sura_number + 1}",
                    reply_to=event.id
                )
            else:
                await event.reply("ุนุฐุฑูุงุ ูู ุฃุชููู ูู ุฌูุจ ุงูุณูุฑุฉ ุงูุนุดูุงุฆูุฉ.")
        except Exception as e:
            await event.reply(f"ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูุณูุฑุฉ ุงูุนุดูุงุฆูุฉ: {e}")
        return
    for names, num in suras.items():
        if text in names:
            try:
                link_id = int(num) + 1
                message = await bot.get_messages('theholyqouran', ids=link_id)
                if message and message.media:
                    await bot.send_file(
                        event.chat_id,
                        file=message.media,
                        caption=f"๐ ุณูุฑุฉ {text}:\nุฑุงุจุท ุงูุณูุฑุฉ:\nhttps://t.me/theholyqouran/{link_id}",
                        reply_to=event.id
                    )
                else:
                    await event.reply("ุนุฐุฑูุงุ ูู ุฃุชููู ูู ุงูุนุซูุฑ ุนูู ุงูุณูุฑุฉ ุงููุทููุจุฉ.")
            except Exception as e:
                await event.reply(f"ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูุณูุฑุฉ: {e}")
            return
bot.run_until_disconnected()
